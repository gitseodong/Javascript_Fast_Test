// 메모리 누수(Memory Leak)

// 더 이상 필요하지 않은 데이터가 해제되지 못하고 메모리를 계속 차지하는 현상

// (1) 불필요한 전역 변수 사용

// - 해제하지 않은 타이머
// - 잘못된 클로저 사용

window.hello = "Hello world!";
window.heropy = { name: "Heropy", age: 85 };
// window라는 전역객체에 등록된 데이터는 사용되지 않더라도 사용되는 것으로 인식.

// (2) 분리된 노드 참조
const btn = document.querySelector("button");
const parent = document.querySelector(".parent");

btn.addEventListener("click", () => {
  console.log(parent);
  parent.remove();
});
// parent.remove() 를 통해 요소를 제거했어도 parent 변수에는 그 주소가 남아있다.
// 다음과 같이 parent 변수를 EventListener 내부로 옮겨줌으로써 parent 변수도 사라지게 할 수 있다.
const btn = document.querySelector("button");

btn.addEventListener("click", () => {
  const parent = document.querySelector(".parent");
  console.log(parent);
  parent.remove();
});
